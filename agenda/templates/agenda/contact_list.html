{% extends "agenda/base.html" %}
 
{% block content %}

{% if contact_list %}
<div class="pure-g">
	<div class="pure-u-1">
		<h3>Agenda de Contactos</h3>
	</div>
	
	<div class="pure-u-1-4">
		<form class="pure-form" action="{%url 'agenda:search'%}" method="get">
			<input type="text" placeholder="Buscar contacto" name="contactFilter" value="{{contactFilter}}"/>
			<button class="pure-button pure-button-primary" type="submit">Filtrar</Button>
		</form>
	</div>
	<div class="pure-u-3-4">
		<a class="pure-button pure-button-primary" href="/agenda/create">Crear nuevo contacto</a>
		<p></p>
	</div>
	<div class="pure-u-1-4"></div>
	<div class="pure-u-3-4">
		
		<table class="pure-table ger-table">
			<thead>
				<tr>
					<th>Nombre</th>
					<th>Apellido</th>
					<th>Compañía</th>
					<th>--------------</th>
				</tr>
			</thead>
			<tbody>
				{% for contact in contact_list %}
					<tr>
			    		<td>
			    			<a href="{%url 'agenda:detail' contact.id%}">{{contact.first_name}}</a>
			    		</td>
			    		<td>
			    			<a href="{%url 'agenda:detail' contact.id%}">{{contact.last_name}}</a>
			    		</td>
			    		<td>
			    			<a href="{%url 'agenda:detail' contact.id%}">{{contact.company_name}}</a>
			    		</td>
			    		
			    		<td align="center">
			    			<form action="{%url 'agenda:delete' contact.id%}" method="post">
			    				{% csrf_token %}
			    				<button type="submit">Eliminar</button>
			    			</form>
			    		</td>
			    	</tr>
			    {% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% else %}
<div align="center">
    <p>No hay contactos disponibles en esta agenda =(, no temas... agrega al primero!</p>
    <a class="pure-button pure-button-primary" href="/agenda/create">Crear nuevo contacto</a>
</div>
{% endif %}

{% endblock %}